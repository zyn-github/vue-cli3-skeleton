(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03092968"],{"02f4":function(t,e,i){var r=i("4588"),n=i("be13");t.exports=function(t){return function(e,i){var a,s,c=String(n(e)),o=r(i),u=c.length;return o<0||o>=u?t?"":void 0:(a=c.charCodeAt(o),a<55296||a>56319||o+1===u||(s=c.charCodeAt(o+1))<56320||s>57343?t?c.charAt(o):a:t?c.slice(o,o+2):s-56320+(a-55296<<10)+65536)}}},"0390":function(t,e,i){"use strict";var r=i("02f4")(!0);t.exports=function(t,e,i){return e+(i?r(t,e).length:1)}},"0585":function(t,e,i){},"0bfb":function(t,e,i){"use strict";var r=i("cb7c");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"214f":function(t,e,i){"use strict";i("b0c5");var r=i("2aba"),n=i("32e9"),a=i("79e5"),s=i("be13"),c=i("2b4c"),o=i("520a"),u=c("species"),l=!a(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();t.exports=function(t,e,i){var p=c(t),d=!a(function(){var e={};return e[p]=function(){return 7},7!=""[t](e)}),h=d?!a(function(){var e=!1,i=/a/;return i.exec=function(){return e=!0,null},"split"===t&&(i.constructor={},i.constructor[u]=function(){return i}),i[p](""),!e}):void 0;if(!d||!h||"replace"===t&&!l||"split"===t&&!f){var v=/./[p],g=i(s,p,""[t],function(t,e,i,r,n){return e.exec===o?d&&!n?{done:!0,value:v.call(e,i,r)}:{done:!0,value:t.call(i,e,r)}:{done:!1}}),b=g[0],x=g[1];r(String.prototype,t,b),n(RegExp.prototype,p,2==e?function(t,e){return x.call(t,this,e)}:function(t){return x.call(t,this)})}}},"28a5":function(t,e,i){"use strict";var r=i("aae3"),n=i("cb7c"),a=i("ebd6"),s=i("0390"),c=i("9def"),o=i("5f1b"),u=i("520a"),l=i("79e5"),f=Math.min,p=[].push,d="split",h="length",v="lastIndex",g=4294967295,b=!l(function(){RegExp(g,"y")});i("214f")("split",2,function(t,e,i,l){var x;return x="c"=="abbc"[d](/(b)*/)[1]||4!="test"[d](/(?:)/,-1)[h]||2!="ab"[d](/(?:ab)*/)[h]||4!="."[d](/(.?)(.?)/)[h]||"."[d](/()()/)[h]>1||""[d](/.?/)[h]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!r(t))return i.call(n,t,e);var a,s,c,o=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,d=void 0===e?g:e>>>0,b=new RegExp(t.source,l+"g");while(a=u.call(b,n)){if(s=b[v],s>f&&(o.push(n.slice(f,a.index)),a[h]>1&&a.index<n[h]&&p.apply(o,a.slice(1)),c=a[0][h],f=s,o[h]>=d))break;b[v]===a.index&&b[v]++}return f===n[h]?!c&&b.test("")||o.push(""):o.push(n.slice(f)),o[h]>d?o.slice(0,d):o}:"0"[d](void 0,0)[h]?function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)}:i,[function(i,r){var n=t(this),a=void 0==i?void 0:i[e];return void 0!==a?a.call(i,n,r):x.call(String(n),i,r)},function(t,e){var r=l(x,t,this,e,x!==i);if(r.done)return r.value;var u=n(t),p=String(this),d=a(u,RegExp),h=u.unicode,v=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(b?"y":"g"),m=new d(b?u:"^(?:"+u.source+")",v),k=void 0===e?g:e>>>0;if(0===k)return[];if(0===p.length)return null===o(m,p)?[p]:[];var _=0,w=0,y=[];while(w<p.length){m.lastIndex=b?w:0;var C,S=o(m,b?p:p.slice(w));if(null===S||(C=f(c(m.lastIndex+(b?0:w)),p.length))===_)w=s(p,w,h);else{if(y.push(p.slice(_,w)),y.length===k)return y;for(var R=1;R<=S.length-1;R++)if(y.push(S[R]),y.length===k)return y;w=_=C}}return y.push(p.slice(_)),y}]})},"520a":function(t,e,i){"use strict";var r=i("0bfb"),n=RegExp.prototype.exec,a=String.prototype.replace,s=n,c="lastIndex",o=function(){var t=/a/,e=/b*/g;return n.call(t,"a"),n.call(e,"a"),0!==t[c]||0!==e[c]}(),u=void 0!==/()??/.exec("")[1],l=o||u;l&&(s=function(t){var e,i,s,l,f=this;return u&&(i=new RegExp("^"+f.source+"$(?!\\s)",r.call(f))),o&&(e=f[c]),s=n.call(f,t),o&&s&&(f[c]=f.global?s.index+s[0].length:e),u&&s&&s.length>1&&a.call(s[0],i,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)}),s}),t.exports=s},"550c":function(t,e,i){"use strict";var r=i("e1d3"),n=i.n(r);n.a},"5f1b":function(t,e,i){"use strict";var r=i("23c6"),n=RegExp.prototype.exec;t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var a=i.call(t,e);if("object"!==typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},"7f7f":function(t,e,i){var r=i("86cc").f,n=Function.prototype,a=/^\s*function ([^ (]*)/,s="name";s in n||i("9e1e")&&r(n,s,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},a481:function(t,e,i){"use strict";var r=i("cb7c"),n=i("4bf8"),a=i("9def"),s=i("4588"),c=i("0390"),o=i("5f1b"),u=Math.max,l=Math.min,f=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g,h=function(t){return void 0===t?t:String(t)};i("214f")("replace",2,function(t,e,i,v){return[function(r,n){var a=t(this),s=void 0==r?void 0:r[e];return void 0!==s?s.call(r,a,n):i.call(String(a),r,n)},function(t,e){var n=v(i,t,this,e);if(n.done)return n.value;var f=r(t),p=String(this),d="function"===typeof e;d||(e=String(e));var b=f.global;if(b){var x=f.unicode;f.lastIndex=0}var m=[];while(1){var k=o(f,p);if(null===k)break;if(m.push(k),!b)break;var _=String(k[0]);""===_&&(f.lastIndex=c(p,a(f.lastIndex),x))}for(var w="",y=0,C=0;C<m.length;C++){k=m[C];for(var S=String(k[0]),R=u(l(s(k.index),p.length),0),$=[],E=1;E<k.length;E++)$.push(h(k[E]));var I=k.groups;if(d){var O=[S].concat($,R,p);void 0!==I&&O.push(I);var L=String(e.apply(void 0,O))}else L=g(S,p,R,$,I,e);R>=y&&(w+=p.slice(y,R)+L,y=R+S.length)}return w+p.slice(y)}];function g(t,e,r,a,s,c){var o=r+t.length,u=a.length,l=d;return void 0!==s&&(s=n(s),l=p),i.call(c,l,function(i,n){var c;switch(n.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(o);case"<":c=s[n.slice(1,-1)];break;default:var l=+n;if(0===l)return i;if(l>u){var p=f(l/10);return 0===p?i:p<=u?void 0===a[p-1]?n.charAt(1):a[p-1]+n.charAt(1):i}c=a[l-1]}return void 0===c?"":c})}})},aae3:function(t,e,i){var r=i("d3f4"),n=i("2d95"),a=i("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==n(t))}},b0c5:function(t,e,i){"use strict";var r=i("520a");i("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},c84b:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detail"},[i("Header",{attrs:{title:t.title,isLeft:!0,isRight:!0}}),i("div",{staticClass:"detail-con"},[t.isLoading?i("Loading"):t._e(),t.isLoading?t._e():[i("DetailList",{attrs:{book:t.book}}),i("v-touch",{on:{tap:t.toArticle}},[i("van-button",{attrs:{type:"danger",block:"",size:"small"}},[t._v("开始阅读")])],1),i("v-touch",{staticClass:"more",attrs:{tag:"a"},on:{tap:t.toChapter}},[t._v("查看目录")])]],2)],1)},n=[],a=(i("e7e5"),i("d399")),s=(i("96cf"),i("3b8d")),c=i("cebc"),o=(i("7f7f"),i("06d0")),u=i("0e17"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detail-list"},[i("div",{staticClass:"detail-list-pic"},[i("img",{attrs:{src:t.book.cover}})]),i("div",{staticClass:"detail-list-info"},[i("h2",{staticClass:"detail-list-tit"},[t._v(t._s(t.book.title))]),i("p",{staticClass:"detail-list-sp1"},[i("span",[t._v(t._s(t.book.author))]),t._v("|"),i("span",[t._v(t._s(t.book.minorCate))]),t._v("|"),i("span",[t._v(t._s((t.book.wordCount/1e4).toFixed(2))+"万字")])]),i("p",{staticClass:"detail-list-time"},[t._v("更新时间: "),i("span",[t._v(t._s(t.time))])]),i("p",{staticClass:"detail-list-last"},[t._v("最新文章: "+t._s(t.book.lastChapter))])])])},f=[],p=(i("a481"),i("28a5"),{name:"DetailList",props:["book"],computed:{time:function(){var t=this.book.updated.split(".")[0];return t.replace("T","  ")}}}),d=p,h=(i("550c"),i("2877")),v=Object(h["a"])(d,l,f,!1,null,"1e36aeb7",null),g=v.exports,b=i("2f62"),x={name:"Detail",components:{Header:o["a"],Loading:u["a"],DetailList:g},data:function(){return{title:"",isLoading:!0,book:{},isOff:!1,source:{}}},watch:{$route:function(t){"detail"===t.name&&(this.isLoading=!0,this.getDetail())}},computed:Object(b["c"])({id:"id",sourceId:"sourceId",list:"list"}),created:function(){this.getDetail()},deactivated:function(){this.$destroy()},methods:Object(c["a"])({getDetail:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,i,r,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isOff){t.next=2;break}return t.abrupt("return");case 2:return this.isOff=!0,e=this.$route.params.id,t.next=6,this.axios.get("book/"+e);case 6:if(i=t.sent,0!==i.flag){t.next=11;break}return a["a"].clear(),Object(a["a"])(i.msg),t.abrupt("return");case 11:return this.title=i.book.title,this.book=i.book,t.next=15,this.axios.get("source/",{params:{id:e}});case 15:if(r=t.sent,0!==r.flag){t.next=20;break}return a["a"].clear(),Object(a["a"])(r.msg),t.abrupt("return");case 20:this.source=r.books,this.isOff=!1,setTimeout(function(){n.isLoading=!1},300);case 23:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getChapter:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.get("/chapter",{params:{id:this.source._id}});case 2:if(e=t.sent,0!==e.flag){t.next=7;break}return a["a"].clear(),Object(a["a"])(e.msg),t.abrupt("return");case 7:this.upList({id:e.id,chapters:e.chapters}),this.upN(0),this.$nextTick(function(){a["a"].clear()}),this.$router.push("/article");case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},Object(b["b"])({upId:"updateId",upSourceId:"updateSourceId",upTit:"updateTit",upList:"updateList",upN:"updateN"}),{toChapter:function(){a["a"].loading({mask:!0,message:"加载中..."}),this.setState(),this.$router.push("/chapter")},toArticle:function(){this.setState(),this.list.chapters&&this.list.id===this.source._id?this.$router.push("/article"):(a["a"].loading({mask:!0,message:"加载中..."}),this.getChapter())},setState:function(){this.upId(this.book._id),this.upTit(this.book.title),this.upSourceId(this.source._id),setTimeout(function(){a["a"].clear()},300)}})},m=x,k=(i("f979"),Object(h["a"])(m,r,n,!1,null,"235d7e24",null));e["default"]=k.exports},e1d3:function(t,e,i){},f979:function(t,e,i){"use strict";var r=i("0585"),n=i.n(r);n.a}}]);
//# sourceMappingURL=chunk-03092968.9d4fe3a4.js.map